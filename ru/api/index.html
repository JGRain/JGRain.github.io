<hr>
<h2 id="title-API"><a href="#title-API" class="headerlink" title="title: API"></a>title: API</h2><p>Эта документация содержит подробную информацию об API и будет особенно полезна для людей, желающих изменить исходный код Hexo или писать новые плагины. Если Вас интересуют основы использования Hexo, пожалуйста, используйте <a href="../docs">документацию</a>.</p>
<p>Обратите внимание, эта документация действительна только для Hexo 3 и выше.</p>
<h2 id="Инициализация"><a href="#Инициализация" class="headerlink" title="Инициализация"></a>Инициализация</h2><p>Во-первых, нужно создать экземпляр Hexo. Он принимает два аргумента: корневой каталог сайта <code>base_dir</code> и объект, содержащий параметры инициализации. Далее для инициализации выполняется метод <code>init</code>, он вызывает Hexo и загружает настройки и плагины.</p>
<pre><code class="js">var Hexo = require(&#39;hexo&#39;);
var hexo = new Hexo(process.cwd(), {});

hexo.init().then(function(){
  // ...
});
</code></pre>
<table>
<thead>
<tr>
<th>Опция</th>
<th>Описание</th>
<th>Значение по умолчанию</th>
</tr>
</thead>
<tbody><tr>
<td><code>debug</code></td>
<td>Включает режим отладки. Отображает отладочные сообщения в консоль и сохраняет в файл <code>debug.log</code>, находящийся в корневой директории.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>safe</code></td>
<td>Включает безопасный режим. Пропускается загрузка всех плагинов.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>silent</code></td>
<td>Включает тихий режим. Скрывает отображение любых сообщений в терминале.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>config</code></td>
<td>Указывает путь к файлу конфигурации.</td>
<td><code>_config.yml</code></td>
</tr>
</tbody></table>
<h2 id="Загрузка-файлов"><a href="#Загрузка-файлов" class="headerlink" title="Загрузка файлов"></a>Загрузка файлов</h2><p>Hexo предусматривает два способа загрузки файлов: <code>load</code> и <code>watch</code>. <code>load</code> используется для загрузки всех файлов из исходной папки и данных темы. <code>watch</code> делает то же самое, а также следит за файлами и запускает обработку при их изменении.</p>
<p>Оба метода позволяют загрузить список файлов и передать их в соответствующие обработчики. После того, как все файлы будут обработаны, они вызовут генератор создания ссылок.</p>
<pre><code class="js">hexo.load().then(function(){
  // ...
});

hexo.watch().then(function(){
  // Можно использовать hexo.unwatch() позже для отмены отслеживания изменений в файлах.
});
</code></pre>
<h2 id="Выполнение-команд"><a href="#Выполнение-команд" class="headerlink" title="Выполнение команд"></a>Выполнение команд</h2><p>Любую консольную команду можно вызвать явно с помощью метода <code>call</code> в экземпляре Hexo. Такой вызов принимает два аргумента: команду и её опции. Для каждой команды доступны свои опции.</p>
<pre><code class="js">hexo.call(&#39;generate&#39;, {}).then(function(){
  // ...
});
</code></pre>
<h2 id="Выход"><a href="#Выход" class="headerlink" title="Выход"></a>Выход</h2><p>После успешного или неудачного завершения команд в консоли нужно вызывать метод <code>exit</code>. Это позволяет Hexo корректно завершить и закончить важные задачи, например, сохранение базы данных.</p>
<pre><code class="js">hexo.call(&#39;generate&#39;).then(function(){
  return hexo.exit();
}).catch(function(err){
  return hexo.exit(err);
});
</code></pre>
